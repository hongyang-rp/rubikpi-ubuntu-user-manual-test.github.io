"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[808],{4698:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-148-ada577630c21124f573e06d6a81d5a9b.png"},7541:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/img_v3_02h3_f64471dd-11fb-46bd-ae8a-72fdf86cc65g-f70432e724d8bd391ff6750516103453.jpg"},8366:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/img_v3_02h3_2bbba98e-82ca-47ed-9b20-cf96deb8e13g-22466fa2863f0a65da2c53657761fd05.jpg"},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var i=s(6540);const c={},l=i.createContext(c);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},8470:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"Document Home/\u5916\u8bbe\u4e0e\u63a5\u53e3/M.2 Key M Connecor","title":"M.2 Key M \u63a5\u53e3","description":"RUBIK Pi 3 \u63d0\u4f9b\u4e00\u4e2a\u6807\u51c6 M.2 \u63d2\u69fd\uff0c\u7528\u4e8e\u8fde\u63a5 NVMe \u5b58\u50a8\uff0c\u53ef\u5b89\u88c5 2280 \u89c4\u683c\uff0822\\\\*80mm\uff09M.2 SSD \u786c\u76d8\u3002M.2 \u63d2\u69fd\u6700\u5927\u652f\u6301 PCIe Gen 3 x 2\u3002M.2 \u63a5\u53e3\u6700\u5927\u5bf9\u5916\u8f93\u51fa\u80fd\u529b\u4e3a 3.3V 2A\uff0c\u53ef\u5355\u72ec\u63a7\u5236\u5f00\u5173\u3002","source":"@site/docs/Document Home/2.\u5916\u8bbe\u4e0e\u63a5\u53e3/12.M.2 Key M Connecor.md","sourceDirName":"Document Home/2.\u5916\u8bbe\u4e0e\u63a5\u53e3","slug":"/Document Home/\u5916\u8bbe\u4e0e\u63a5\u53e3/M.2 Key M Connecor","permalink":"/rubikpi-ubuntu-user-manual-test.github.io/docs/Document Home/\u5916\u8bbe\u4e0e\u63a5\u53e3/M.2 Key M Connecor","draft":false,"unlisted":false,"editUrl":"https://github.com/hongyang-rp/rubikpi-ubuntu-user-manual-test.github.io/tree/main/docs/Document Home/2.\u5916\u8bbe\u4e0e\u63a5\u53e3/12.M.2 Key M Connecor.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"RTC \u7535\u6c60\u63a5\u53e3","permalink":"/rubikpi-ubuntu-user-manual-test.github.io/docs/Document Home/\u5916\u8bbe\u4e0e\u63a5\u53e3/RTC battery"},"next":{"title":"40 pin \u8fde\u63a5\u5668","permalink":"/rubikpi-ubuntu-user-manual-test.github.io/docs/Document Home/\u5916\u8bbe\u4e0e\u63a5\u53e3/1.40 pin \u8fde\u63a5\u5668"}}');var c=s(4848),l=s(8453);const r={},d="M.2 Key M \u63a5\u53e3",h={},t=[{value:"PCIe \u603b\u7ebf\u529f\u80fd\u9a8c\u8bc1",id:"pcie-\u603b\u7ebf\u529f\u80fd\u9a8c\u8bc1",level:2},{value:"PCIe \u529f\u8017\u4f18\u5316",id:"pcie-\u529f\u8017\u4f18\u5316",level:2},{value:"PCIe L0 \u94fe\u8def\u72b6\u6001",id:"pcie-l0-\u94fe\u8def\u72b6\u6001",level:3},{value:"PCIe \u8bbe\u5907\u72b6\u6001",id:"pcie-\u8bbe\u5907\u72b6\u6001",level:3},{value:"PCIe \u8c03\u8bd5",id:"pcie-\u8c03\u8bd5",level:2}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"m2-key-m-\u63a5\u53e3",children:"M.2 Key M \u63a5\u53e3"})}),"\n",(0,c.jsx)(n.p,{children:"RUBIK Pi 3 \u63d0\u4f9b\u4e00\u4e2a\u6807\u51c6 M.2 \u63d2\u69fd\uff0c\u7528\u4e8e\u8fde\u63a5 NVMe \u5b58\u50a8\uff0c\u53ef\u5b89\u88c5 2280 \u89c4\u683c\uff0822*80mm\uff09M.2 SSD \u786c\u76d8\u3002M.2 \u63d2\u69fd\u6700\u5927\u652f\u6301 PCIe Gen 3 x 2\u3002M.2 \u63a5\u53e3\u6700\u5927\u5bf9\u5916\u8f93\u51fa\u80fd\u529b\u4e3a 3.3V 2A\uff0c\u53ef\u5355\u72ec\u63a7\u5236\u5f00\u5173\u3002"}),"\n",(0,c.jsxs)(n.p,{children:["M.2 Key M \u63a5\u53e3\u4f7f\u7528\u4e86 QCS6490 \u7684 PCIe1 \u603b\u7ebf\uff0c\u8bbe\u5907\u8def\u5f84\u4e3a\uff1a",(0,c.jsx)(n.em,{children:"/sys/bus/pci/devices/0001:00:00.0"})]}),"\n",(0,c.jsx)(n.p,{children:"M.2 Key M \u63a5\u53e3\u4e3a\u4e0b\u56fe 18\uff1a"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{src:s(4698).A+"",width:"1477",height:"615"})}),"\n",(0,c.jsx)(n.p,{children:"M.2 Key M \u63a5\u53e3\u53ef\u4ee5\u63a5\u5165\u89c4\u683c\u4e3a2280\u7684\u56fa\u6001\u786c\u76d8\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.img,{src:s(8366).A+"",width:"8192",height:"6144"}),"\r\n",(0,c.jsx)(n.img,{src:s(7541).A+"",width:"8192",height:"6144"})]}),"\n",(0,c.jsx)(n.h2,{id:"pcie-\u603b\u7ebf\u529f\u80fd\u9a8c\u8bc1",children:"PCIe \u603b\u7ebf\u529f\u80fd\u9a8c\u8bc1"}),"\n",(0,c.jsxs)(n.p,{children:["\u5728\u63a5\u5165 2280 \u89c4\u683c\u7684\u56fa\u6001\u786c\u76d8\u540e\uff0c\u751f\u6210\u7684\u8bbe\u5907\u8282\u70b9\u4e3a ",(0,c.jsx)(n.code,{children:"/dev/nvme*"}),"\u3002"]}),"\n",(0,c.jsxs)(n.p,{children:["\u60a8\u53ef\u4ee5\u901a\u8fc7\u7c7b\u4f3c\u5982\u4e0b\u7684\u547d\u4ee4\u6302\u8f7d U \u76d8\uff0c\u901a\u8fc7\u8bbf\u95ee ",(0,c.jsx)(n.em,{children:"/opt"})," \u76ee\u5f55\u4e0b\u7684\u5185\u5bb9\u9a8c\u8bc1 PCIe \u603b\u7ebf\u63a5\u53e3\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"sudo mount /dev/nvme0n1p1 /opt/\n"})}),"\n",(0,c.jsx)(n.h2,{id:"pcie-\u529f\u8017\u4f18\u5316",children:"PCIe \u529f\u8017\u4f18\u5316"}),"\n",(0,c.jsx)(n.p,{children:"PCIe \u5b9a\u4e49\u4e86\u4e24\u79cd\u529f\u8017\u7ba1\u7406\u65b9\u6cd5\u3002"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u529f\u8017\u7ba1\u7406\u8f6f\u4ef6\uff0c\u7528\u4e8e\u786e\u5b9a\u6bcf\u4e2a\u8bbe\u5907\u7684\u529f\u8017\u7ba1\u7406\u529f\u80fd\u5e76\u5206\u522b\u5bf9\u5404\u4e2a\u8bbe\u5907\u8fdb\u884c\u7ba1\u7406"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u4e0d\u9700\u8981\u8f6f\u4ef6\u5e72\u9884\u7684\u7cfb\u7edf\uff0c\u4f8b\u5982\u4e3b\u52a8\u72b6\u6001\u529f\u8017\u7ba1\u7406 (ASPM)"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\u5f53\u94fe\u8def\u4e0a\u672a\u4f20\u8f93\u4efb\u4f55\u6570\u636e\u5305\u65f6\uff0c\u8bbe\u5907\u4f1a\u5c06\u94fe\u8def\u7f6e\u4e8e\u8282\u80fd\u72b6\u6001\u3002"}),"\n",(0,c.jsx)(n.h3,{id:"pcie-l0-\u94fe\u8def\u72b6\u6001",children:"PCIe L0 \u94fe\u8def\u72b6\u6001"}),"\n",(0,c.jsx)(n.p,{children:"PCIe \u529f\u8017\u7ba1\u7406\u5b9a\u4e49\u4e0b\u4e86 L0 \u94fe\u8def\u72b6\u6001\uff1a"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"L0\uff1a\u5de5\u4f5c\u72b6\u6001"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"L0s\uff1a\u5177\u6709\u4f4e\u6062\u590d\u5ef6\u8fdf\u7684 ASPM \u72b6\u6001\uff08\u8282\u80fd\u5f85\u673a\u72b6\u6001\uff09"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"pcie-\u8bbe\u5907\u72b6\u6001",children:"PCIe \u8bbe\u5907\u72b6\u6001"}),"\n",(0,c.jsx)(n.p,{children:"PCIe \u529f\u8017\u7ba1\u7406\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u8bbe\u5907\u72b6\u6001\uff1a"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D0\uff08\u5fc5\u9009\uff09: \u8bbe\u5907\u5904\u4e8e\u5b8c\u5168 ON \u72b6\u6001\uff0c\u6b64\u65f6\u5b58\u5728\u4e24\u4e2a\u5b50\u72b6\u6001"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D0(uninitialized)\uff1a\u5f53\u8bbe\u5907\u9000\u51fa\u590d\u4f4d\u72b6\u6001\u540e\u7b49\u5f85\u679a\u4e3e\u548c\u914d\u7f6e\u65f6\uff0c\u8be5\u529f\u80fd\u5904\u4e8e D0(uninitialized) \u72b6\u6001"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D0(active)"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u5f53\u5b8c\u6210\u679a\u4e3e\u548c\u914d\u7f6e\u8fc7\u7a0b\u540e\uff0c\u8be5\u529f\u80fd\u5904\u4e8e D0(active) \u72b6\u6001"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u5f53\u7cfb\u7edf\u8f6f\u4ef6\u542f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\uff08\u4efb\u610f\u7ec4\u5408\uff09\u529f\u80fd\u53c2\u6570\uff08\u5982\u5185\u5b58\u7a7a\u95f4\u542f\u7528\u3001I/O \u7a7a\u95f4\u542f\u7528\u3001\u603b\u7ebf\u4e3b\u542f\u7528\uff08BME\uff09\u4f4d\uff09\u65f6\uff0c\u8be5\u529f\u80fd\u8fdb\u5165 D0(active) \u72b6\u6001"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D1\uff08\u53ef\u9009\uff09\uff1a\u8f7b\u5ea6\u4f11\u7720\u72b6\u6001"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u53ea\u80fd\u53d1\u51fa PME \u6d88\u606f\uff0c\u65e0\u6cd5\u53d1\u51fa\u5176\u4ed6 TLP"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u53ea\u80fd\u5145\u5f53\u914d\u7f6e\u4e8b\u52a1\u7684\u76ee\u6807\uff0c\u65e0\u6cd5\u5145\u5f53\u5176\u4ed6\u4e8b\u52a1\u7684\u76ee\u6807"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u901a\u8fc7\u53d1\u51fa\u8bbe\u5b9a PM \u63a7\u5236\u548c\u72b6\u6001\u5bc4\u5b58\u5668\u7684\u8f6f\u4ef6\u547d\u4ee4\u6765\u8fdb\u5165 D1 \u72b6\u6001"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D2\uff08\u53ef\u9009\uff09\uff1a\u6df1\u5ea6\u4f11\u7720\u72b6\u6001"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u53ea\u80fd\u53d1\u51fa PME \u6d88\u606f\uff0c\u65e0\u6cd5\u53d1\u51fa\u5176\u4ed6 TLP"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u53ea\u80fd\u5145\u5f53\u914d\u7f6e\u4e8b\u52a1\u7684\u76ee\u6807\uff0c\u65e0\u6cd5\u5145\u5f53\u5176\u4ed6\u4e8b\u52a1\u7684\u76ee\u6807"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u901a\u8fc7\u53d1\u51fa\u8bbe\u5b9a PM \u63a7\u5236\u548c\u72b6\u6001\u5bc4\u5b58\u5668\u7684\u8f6f\u4ef6\u547d\u4ee4\u6765\u8fdb\u5165 D2 \u72b6\u6001"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D3\uff08\u5fc5\u9009\uff09\uff1a\u8bbe\u5907\u5904\u4e8e\u6700\u4f4e\u529f\u8017\u72b6\u6001\uff0c\u6b64\u65f6\u8be5\u529f\u80fd\u5fc5\u987b\u652f\u6301\u4e24\u79cd D3 \u72b6\u6001"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D3(hot)"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u53ea\u80fd\u53d1\u51fa PME \u6d88\u606f\uff0c\u65e0\u6cd5\u53d1\u51fa\u5176\u4ed6 TLP"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u53ea\u80fd\u5145\u5f53\u914d\u7f6e\u4e8b\u52a1\u7684\u76ee\u6807\uff0c\u65e0\u6cd5\u5145\u5f53\u5176\u4ed6\u4e8b\u52a1\u7684\u76ee\u6807"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u8be5\u529f\u80fd\u901a\u8fc7\u8bbe\u5b9a\u529f\u8017\u72b6\u6001\u4f4d\u57df\u53d1\u51fa\u8f6f\u4ef6\u547d\u4ee4\u6765\u8fdb\u5165 D3(hot) \u72b6\u6001"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"D3(cold)\uff1a\u8bbe\u5907\u8fdb\u5165 D3(cold) \u72b6\u6001\u5e76\u65ad\u7535\uff1b\u5f53\u6062\u590d\u4f9b\u7535\u65f6\uff0c\u8bbe\u5907\u8fdb\u5165 D0(uninitialized) \u72b6\u6001"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"pcie-\u8c03\u8bd5",children:"PCIe \u8c03\u8bd5"}),"\n",(0,c.jsxs)(n.p,{children:["M.2 Key M \u63a5\u53e3\u4f7f\u7528\u4e86 QCS6490 \u7684 PCIe1 \u603b\u7ebf\uff0c\u8bbe\u5907\u8def\u5f84\u4e3a\uff1a",(0,c.jsx)(n.em,{children:"/sys/bus/pci/devices/0001:00:00.0"})]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"lspci"})," \u548c ",(0,c.jsx)(n.code,{children:"setpci"})," \u547d\u4ee4\u4e3a Linux \u53d1\u884c\u7248\u7684\u672c\u673a\u547d\u4ee4\u3002\u8fd9\u4e24\u6761\u547d\u4ee4\u63d0\u4f9b\u591a\u79cd\u7ea7\u522b\u7684\u8f93\u51fa\uff0c\u5e76\u4e14\u8fd8\u53ef\u7528\u4e8e\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\u67e5\u770b PCI \u603b\u7ebf\u4e0a\u8bad\u7ec3\u7684\u4e0d\u540c\u7ec4\u4ef6\u7684\u529f\u80fd\u548c\u72b6\u6001\u3002\u8fd9\u4e9b\u529f\u80fd\u5927\u591a\u53cd\u6620\u7684\u662f PCIe \u57fa\u672c\u89c4\u8303\u6240\u9700\u7684\u914d\u7f6e\u7a7a\u95f4\u5bc4\u5b58\u5668\u3002\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u53ef\u8bbf\u95ee ",(0,c.jsx)(n.a,{href:"https://pcisig.com/specifications",children:"https://pcisig.com/specifications"}),"\r\n\u5982\u9700\u67e5\u770b\u4f7f\u7528\u8bf4\u660e\uff0c\u53ef\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"lspci --help\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u4ee5\u4e0b\u529f\u80fd\u6709\u52a9\u4e8e\u89e3\u51b3 PCIe \u95ee\u9898\u3002"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u663e\u793a\u8bbe\u5907\u4fe1\u606f"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"lspci\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u793a\u4f8b\u8f93\u51fa"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"0000:00:00.0 PCI bridge: Qualcomm Device 010b\r\n0000:01:00.0 USB controller: Renesas Technology Corp. uPD720201 USB 3.0 Host Controller (rev 03)\r\n0001:00:00.0 PCI bridge: Qualcomm Device 010b\n"})}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u663e\u793a\u8bbe\u5907\u63a7\u5236\u5bc4\u5b58\u5668\u4e2d\u7684 PCIe \u8bbe\u5907\u548c\u5382\u5546 ID\u3002"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"lspci -nvmm\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u793a\u4f8b\u8f93\u51fa"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"Slot:        00:00.0\r\nClass:        0604\r\nVendor:        17cb\r\nDevice:        010b\r\nIOMMUGroup:        6\r\n\r\nSlot:        01:00.0\r\nClass:        0c03\r\nVendor:        1912\r\nDevice:        0014\r\nRev:        03\r\nProgIf:        30\r\nIOMMUGroup:        6\r\n\r\nSlot:        0001:00:00.0\r\nClass:        0604\r\nVendor:        17cb\r\nDevice:        010b\r\nDTNode:        /sys/firmware/devicetree/base/soc@0/pci@1c08000/pcie@1\r\nIOMMUGroup:        7\r\n\n"})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}}}]);